<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/roster.css" />
    <title>Document</title>
</head>
<body>
    <h1>Team <%=user.teamName%></h1>
    <div class="nav-container">
        <div class='container-items' id='profile'><a class='container-item' id='profile-box' href="/users/profile">Your Profile</a></div>
        <div class='container-items' id='roster-page'><a class='container-item' id='roster-box'>Your Roster</a></div>
        <div class='container-items' id='league'><a class='container-item' id='league-box' href="/rosters/league">League</a></div>
        <div class='container-items' id='players'><a class='container-item' id='players-box' href="/rosters/availablePlayers">Filter Players</a></div>
        <div class='container-items' id='search'><a class='container-item' id='players-box' href="/rosters/search">Search Players</a></div>
        <div class='container-items' id='rules'><a class='container-item' id='players-box' href="/rosters/league/rules">League Rules</a></div>
    </div><br>
    <div id="playerScroll">
        <table id="playerTable">
            <tr id="playerHeader">
                <th class="name">Player</th>
                <th class="pos">Position</th>
                <th class="team">Team</th>
                <th>Drop Player</th>
            </tr>
            <% if (roster.length < 1) { %>
                <tr><td>Roster empty: <a id="addPlayerLink" href="/rosters/availablePlayers">add players</a></td></tr>
            <% } %>
                
            <% for(let i = 0; i < roster.length; i++) { %>
                <tr class="playerInfo">
                    <% if(flex) { %>
                        <% if(i == sum) { %>
                            <td class="name"><%= roster[i].name %></td>
                            <td class="pos">FLEX</td>
                            <td class="team"><%= roster[i].team %></td>
                            <form action="/rosters/<%=roster[i].id%>?_method=PUT" method="POST">
                                <td class="dropPlayer"><input id="dropButton" type="submit" value="Drop Player" /></td>
                            </form>
                        <% } else { %>
                            <td class="name"><%= roster[i].name %></td>
                            <td class="pos"><%= roster[i].position %></td>
                            <td class="team"><%= roster[i].team %></td>
                            <form action="/rosters/<%=roster[i].id%>?_method=PUT" method="POST">
                                <td class="dropPlayer"><input id="dropButton" type="submit" value="Drop Player" /></td>
                            </form>
                        <% } %>
                <% } else { %>
                    <td class="name"><%= roster[i].name %></td>
                    <td class="pos"><%= roster[i].position %></td>
                    <td class="team"><%= roster[i].team %></td>
                    <form action="/rosters/<%=roster[i].id%>?_method=PUT" method="POST">
                        <td class="dropPlayer"><input id="dropButton" type="submit" value="Drop Player" /></td>
                    </form>
                <% } %>
                </tr>
                
             <% } %>
        </table>
    </div>
    <br><br><br>
    <div class="logout-container">
        <div ><a class='container-item' id='logout-box' href="/">Log Out</a></div>
    </div> 
</body>
</html>